EESchema Schematic File Version 4
EELAYER 30 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 6 7
Title "SuperPower-uC"
Date "2020-09-20"
Rev "0.1"
Comp ""
Comment1 "Licence: CERN-OHL-W"
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
Text HLabel 2750 2550 0    50   Input ~ 0
D+
Text HLabel 2750 2650 0    50   Input ~ 0
D-
$Comp
L Interface_USB:CP2102N-A01-GQFN24 U?
U 1 1 5F82298E
P 3450 2150
F 0 "U?" H 3600 3100 50  0000 C CNN
F 1 "CP2102N-A01-GQFN24" H 4000 3000 50  0000 C CNN
F 2 "Package_DFN_QFN:QFN-24-1EP_4x4mm_P0.5mm_EP2.6x2.6mm" H 3900 1350 50  0001 L CNN
F 3 "https://www.silabs.com/documents/public/data-sheets/cp2102n-datasheet.pdf" H 3500 1100 50  0001 C CNN
	1    3450 2150
	1    0    0    -1  
$EndComp
Wire Wire Line
	2750 2550 2850 2550
Wire Wire Line
	2750 2650 2850 2650
$Comp
L power:GND #PWR?
U 1 1 5F825D6E
P 3500 3150
F 0 "#PWR?" H 3500 2900 50  0001 C CNN
F 1 "GND" H 3505 2977 50  0000 C CNN
F 2 "" H 3500 3150 50  0001 C CNN
F 3 "" H 3500 3150 50  0001 C CNN
	1    3500 3150
	1    0    0    -1  
$EndComp
Wire Wire Line
	3450 3050 3450 3100
Wire Wire Line
	3450 3100 3500 3100
Wire Wire Line
	3500 3100 3500 3150
Wire Wire Line
	3550 3050 3550 3100
Wire Wire Line
	3550 3100 3500 3100
Connection ~ 3500 3100
NoConn ~ 4050 2450
NoConn ~ 4050 2550
NoConn ~ 4050 1650
NoConn ~ 4050 1550
$Comp
L Device:R_Small R?
U 1 1 5F848A0E
P 4250 1850
F 0 "R?" V 4150 1850 50  0000 C CNN
F 1 "470" V 4250 1850 39  0000 C CNN
F 2 "" H 4250 1850 50  0001 C CNN
F 3 "~" H 4250 1850 50  0001 C CNN
	1    4250 1850
	0    1    1    0   
$EndComp
$Comp
L Device:R_Small R?
U 1 1 5F849260
P 2150 2300
F 0 "R?" H 2209 2346 50  0000 L CNN
F 1 "22k" H 2209 2255 50  0000 L CNN
F 2 "" H 2150 2300 50  0001 C CNN
F 3 "~" H 2150 2300 50  0001 C CNN
	1    2150 2300
	1    0    0    -1  
$EndComp
Wire Wire Line
	4150 1950 4050 1950
NoConn ~ 4050 2250
NoConn ~ 4050 2050
Wire Wire Line
	4050 2150 4650 2150
Text Label 4650 2150 2    50   ~ 0
DTR
$Comp
L Device:R_Small R?
U 1 1 5F847C15
P 4250 1950
F 0 "R?" V 4350 1950 50  0000 C CNN
F 1 "470" V 4250 1950 39  0000 C CNN
F 2 "" H 4250 1950 50  0001 C CNN
F 3 "~" H 4250 1950 50  0001 C CNN
	1    4250 1950
	0    1    1    0   
$EndComp
Text Label 4650 1750 2    50   ~ 0
RTS
Text Label 4650 1950 2    50   ~ 0
RXD
Wire Wire Line
	4350 1850 4650 1850
Text Label 4650 1850 2    50   ~ 0
TXD
Wire Wire Line
	4050 1750 4150 1750
Wire Wire Line
	4150 1750 4150 1650
Wire Wire Line
	4150 1650 4350 1650
Wire Wire Line
	4350 1650 4350 1750
Wire Wire Line
	4350 1750 4650 1750
Wire Wire Line
	4350 1950 4650 1950
NoConn ~ 2850 1850
NoConn ~ 2850 1950
$Comp
L Device:R_Small R?
U 1 1 5F850123
P 2750 1350
F 0 "R?" H 2809 1396 50  0000 L CNN
F 1 "4.7k" H 2809 1305 50  0000 L CNN
F 2 "" H 2750 1350 50  0001 C CNN
F 3 "~" H 2750 1350 50  0001 C CNN
	1    2750 1350
	1    0    0    -1  
$EndComp
Wire Wire Line
	2750 1450 2750 1550
Wire Wire Line
	2750 1550 2850 1550
Wire Wire Line
	2750 1250 2750 1150
Wire Wire Line
	3350 1250 3350 1200
Wire Wire Line
	3450 1250 3450 1200
Wire Wire Line
	3450 1200 3400 1200
Wire Wire Line
	3400 1200 3400 1150
Wire Wire Line
	3400 1150 2750 1150
Connection ~ 3400 1200
Wire Wire Line
	3400 1200 3350 1200
$Comp
L Device:C_Small C?
U 1 1 5F853152
P 3300 950
F 0 "C?" H 3100 1000 50  0000 L CNN
F 1 "1µF" H 3050 900 50  0000 L CNN
F 2 "" H 3300 950 50  0001 C CNN
F 3 "~" H 3300 950 50  0001 C CNN
	1    3300 950 
	1    0    0    -1  
$EndComp
$Comp
L Device:C_Small C?
U 1 1 5F853ED8
P 3500 950
F 0 "C?" H 3592 996 50  0000 L CNN
F 1 "0.1µF" H 3592 905 50  0000 L CNN
F 2 "" H 3500 950 50  0001 C CNN
F 3 "~" H 3500 950 50  0001 C CNN
	1    3500 950 
	1    0    0    -1  
$EndComp
Wire Wire Line
	3300 1050 3300 1100
Wire Wire Line
	3300 1100 3400 1100
Wire Wire Line
	3500 1100 3500 1050
Wire Wire Line
	3400 1100 3400 1150
Connection ~ 3400 1100
Wire Wire Line
	3400 1100 3500 1100
Connection ~ 3400 1150
Wire Wire Line
	3300 850  3300 800 
Wire Wire Line
	3500 800  3500 850 
Wire Wire Line
	3300 800  3400 800 
Wire Wire Line
	3400 800  3400 700 
Wire Wire Line
	3400 700  3900 700 
Wire Wire Line
	3900 700  3900 800 
Connection ~ 3400 800 
Wire Wire Line
	3400 800  3500 800 
$Comp
L power:GND #PWR?
U 1 1 5F85BF22
P 3900 800
F 0 "#PWR?" H 3900 550 50  0001 C CNN
F 1 "GND" H 3905 627 50  0000 C CNN
F 2 "" H 3900 800 50  0001 C CNN
F 3 "" H 3900 800 50  0001 C CNN
	1    3900 800 
	1    0    0    -1  
$EndComp
$Comp
L Device:R_Small R?
U 1 1 5F85E6D2
P 2300 2600
F 0 "R?" H 2359 2646 50  0000 L CNN
F 1 "47k" H 2359 2555 50  0000 L CNN
F 2 "" H 2300 2600 50  0001 C CNN
F 3 "~" H 2300 2600 50  0001 C CNN
	1    2300 2600
	1    0    0    -1  
$EndComp
$Comp
L Device:C_Small C?
U 1 1 5F85F820
P 2150 2600
F 0 "C?" H 1950 2650 50  0000 L CNN
F 1 "1µF" H 1900 2550 50  0000 L CNN
F 2 "" H 2150 2600 50  0001 C CNN
F 3 "~" H 2150 2600 50  0001 C CNN
	1    2150 2600
	1    0    0    -1  
$EndComp
Wire Wire Line
	2150 2500 2150 2450
Wire Wire Line
	2150 2450 2300 2450
Wire Wire Line
	2300 2450 2300 2500
Connection ~ 2300 2450
Wire Wire Line
	2300 2700 2300 2750
Wire Wire Line
	2150 2700 2150 2750
Wire Wire Line
	2150 2750 2300 2750
Wire Wire Line
	2150 2750 2150 2800
Connection ~ 2150 2750
$Comp
L power:GND #PWR?
U 1 1 5F867E43
P 2150 2800
F 0 "#PWR?" H 2150 2550 50  0001 C CNN
F 1 "GND" H 2155 2627 50  0000 C CNN
F 2 "" H 2150 2800 50  0001 C CNN
F 3 "" H 2150 2800 50  0001 C CNN
	1    2150 2800
	1    0    0    -1  
$EndComp
Wire Wire Line
	2300 2450 2850 2450
Text HLabel 850  1700 1    50   Input ~ 0
3v3_MCU
$Comp
L Device:R_Small R?
U 1 1 5F87BDCC
P 2350 4250
F 0 "R?" H 2409 4296 50  0000 L CNN
F 1 "4.7k" H 2409 4205 50  0000 L CNN
F 2 "" H 2350 4250 50  0001 C CNN
F 3 "~" H 2350 4250 50  0001 C CNN
	1    2350 4250
	1    0    0    -1  
$EndComp
$Comp
L Device:R_Small R?
U 1 1 5F87D3E5
P 2000 4250
F 0 "R?" H 2059 4296 50  0000 L CNN
F 1 "4.7k" H 2059 4205 50  0000 L CNN
F 2 "" H 2000 4250 50  0001 C CNN
F 3 "~" H 2000 4250 50  0001 C CNN
	1    2000 4250
	1    0    0    -1  
$EndComp
Text HLabel 850  2300 0    50   BiDi ~ 0
SDA
Text HLabel 850  2150 0    50   Input ~ 0
SCL
Wire Wire Line
	2000 4050 2000 4150
Wire Wire Line
	2350 4050 2350 4150
Wire Wire Line
	2350 4350 2350 4550
Wire Wire Line
	2000 4350 2000 4550
Text Notes 1900 3600 0    50   ~ 0
I²C pull-up resistors
Wire Notes Line
	1850 3500 2750 3500
Wire Notes Line
	1850 4700 1850 3500
Text Notes 1900 700  0    50   ~ 0
USB - UART bridge
Wire Notes Line
	1850 600  4700 600 
Wire Notes Line
	4700 600  4700 3400
Wire Notes Line
	4700 3400 1850 3400
Wire Notes Line
	1850 3400 1850 600 
Wire Notes Line
	2750 4700 1850 4700
Wire Notes Line
	2750 3500 2750 4700
Wire Wire Line
	7250 5050 7150 5050
Wire Wire Line
	7250 4950 7150 4950
Wire Wire Line
	7150 3850 7400 3850
Text Label 7400 3850 2    50   ~ 0
RXD
Text Label 7400 3650 2    50   ~ 0
TXD
Wire Wire Line
	7150 3650 7400 3650
Wire Wire Line
	6550 6250 6550 6150
$Comp
L power:GND #PWR?
U 1 1 5F824CEA
P 6550 6250
F 0 "#PWR?" H 6550 6000 50  0001 C CNN
F 1 "GND" H 6555 6077 50  0000 C CNN
F 2 "" H 6550 6250 50  0001 C CNN
F 3 "" H 6550 6250 50  0001 C CNN
	1    6550 6250
	1    0    0    -1  
$EndComp
$Comp
L RF_Module:ESP32-WROOM-32D U?
U 1 1 5F821A8B
P 6550 4750
F 0 "U?" H 6650 6300 50  0000 C CNN
F 1 "ESP32-WROOM-32D" H 7000 6200 50  0000 C CNN
F 2 "RF_Module:ESP32-WROOM-32" H 6550 3250 50  0001 C CNN
F 3 "https://www.espressif.com/sites/default/files/documentation/esp32-wroom-32d_esp32-wroom-32u_datasheet_en.pdf" H 6250 4800 50  0001 C CNN
	1    6550 4750
	1    0    0    -1  
$EndComp
Wire Wire Line
	6550 3250 6550 3350
Text Label 5750 3550 0    50   ~ 0
EN
Wire Wire Line
	5750 3550 5950 3550
NoConn ~ 5950 3850
Text Label 7400 3550 2    50   ~ 0
IO0
Wire Wire Line
	7150 3550 7400 3550
$Comp
L Device:R_Small R?
U 1 1 5F8C7F33
P 7550 1400
F 0 "R?" H 7609 1446 50  0000 L CNN
F 1 "12k" H 7609 1355 50  0000 L CNN
F 2 "" H 7550 1400 50  0001 C CNN
F 3 "~" H 7550 1400 50  0001 C CNN
	1    7550 1400
	1    0    0    -1  
$EndComp
$Comp
L Device:C_Small C?
U 1 1 5F8C82E0
P 7550 1700
F 0 "C?" H 7642 1746 50  0000 L CNN
F 1 "0.1µF" H 7642 1655 50  0000 L CNN
F 2 "" H 7550 1700 50  0001 C CNN
F 3 "~" H 7550 1700 50  0001 C CNN
	1    7550 1700
	1    0    0    -1  
$EndComp
Wire Wire Line
	7550 1500 7550 1550
Wire Wire Line
	7350 1550 7550 1550
Connection ~ 7550 1550
Wire Wire Line
	7550 1550 7550 1600
Text Label 7350 1550 0    50   ~ 0
EN
$Comp
L power:GND #PWR?
U 1 1 5F8CBC56
P 7550 1900
F 0 "#PWR?" H 7550 1650 50  0001 C CNN
F 1 "GND" H 7555 1727 50  0000 C CNN
F 2 "" H 7550 1900 50  0001 C CNN
F 3 "" H 7550 1900 50  0001 C CNN
	1    7550 1900
	1    0    0    -1  
$EndComp
Wire Wire Line
	7550 1900 7550 1800
$Comp
L Device:R_Small R?
U 1 1 5F8CDA06
P 7800 1400
F 0 "R?" H 7859 1446 50  0000 L CNN
F 1 "12k" H 7859 1355 50  0000 L CNN
F 2 "" H 7800 1400 50  0001 C CNN
F 3 "~" H 7800 1400 50  0001 C CNN
	1    7800 1400
	1    0    0    -1  
$EndComp
Wire Wire Line
	7800 1500 7800 1600
Wire Wire Line
	7800 1600 8050 1600
Text Label 8050 1600 2    50   ~ 0
IO0
Wire Wire Line
	7550 1300 7550 1250
Wire Wire Line
	7550 1250 7800 1250
Wire Wire Line
	7800 1250 7800 1300
Wire Wire Line
	7550 1250 7550 1150
Connection ~ 7550 1250
$Comp
L Device:R_Small R?
U 1 1 5F8DFE5B
P 6800 1850
F 0 "R?" V 6900 1950 50  0000 L CNN
F 1 "12k" V 6900 1800 50  0000 L CNN
F 2 "" H 6800 1850 50  0001 C CNN
F 3 "~" H 6800 1850 50  0001 C CNN
	1    6800 1850
	0    -1   -1   0   
$EndComp
$Comp
L Device:Q_NPN_CEB Q?
U 1 1 5F8E617A
P 6400 1850
F 0 "Q?" H 6591 1896 50  0000 L CNN
F 1 "Q_NPN_CEB" H 6591 1805 50  0000 L CNN
F 2 "" H 6600 1950 50  0001 C CNN
F 3 "~" H 6400 1850 50  0001 C CNN
	1    6400 1850
	-1   0    0    1   
$EndComp
Wire Wire Line
	6600 1850 6700 1850
Wire Wire Line
	7000 1400 7000 1850
Wire Wire Line
	7000 1850 6900 1850
Wire Wire Line
	6300 2050 6300 2150
Wire Wire Line
	6300 2150 7150 2150
Text Label 7150 2150 2    50   ~ 0
IO0
Text Label 7150 800  2    50   ~ 0
EN
Wire Wire Line
	6900 1100 7150 1100
Text Label 7150 1100 2    50   ~ 0
DTR
Text Label 7150 1400 2    50   ~ 0
RTS
Wire Wire Line
	6300 1650 6300 1550
Wire Wire Line
	6300 1550 6100 1550
Text Label 6100 1550 0    50   ~ 0
DTR
Wire Wire Line
	7000 1400 7150 1400
Text Notes 4900 1450 0    50   ~ 0
Autoflash circuit\n\nDTR RTS   EN IO0\n\n 1   1     1   1\n 0   0     1   1\n 1   0     0   1\n 0   1     1   0
Wire Notes Line
	4850 750  5650 750 
Wire Notes Line
	5650 1500 4850 1500
Wire Notes Line
	4850 1500 4850 750 
Wire Notes Line
	5250 900  5250 1500
Text Notes 6550 700  2    50   ~ 0
Autoflash/reset circuit and soft start circuit
Wire Notes Line
	4800 600  8100 600 
Wire Notes Line
	8100 2200 4800 2200
Wire Notes Line
	4800 2200 4800 600 
Wire Notes Line
	8100 600  8100 2200
Connection ~ 7000 1400
Wire Notes Line
	4850 1100 5650 1100
Wire Notes Line
	4850 900  5650 900 
Wire Notes Line
	5650 750  5650 1500
Wire Wire Line
	6300 1400 7000 1400
Wire Wire Line
	6300 800  7150 800 
Wire Wire Line
	6300 900  6300 800 
Wire Wire Line
	6300 1300 6300 1400
Wire Wire Line
	6600 1100 6700 1100
$Comp
L Device:Q_NPN_CEB Q?
U 1 1 5F8E1EE6
P 6400 1100
F 0 "Q?" H 6591 1146 50  0000 L CNN
F 1 "Q_NPN_CEB" H 6591 1055 50  0000 L CNN
F 2 "" H 6600 1200 50  0001 C CNN
F 3 "~" H 6400 1100 50  0001 C CNN
	1    6400 1100
	-1   0    0    -1  
$EndComp
$Comp
L Device:R_Small R?
U 1 1 5F8DFE61
P 6800 1100
F 0 "R?" V 6900 1150 50  0000 L CNN
F 1 "12k" V 6900 1000 50  0000 L CNN
F 2 "" H 6800 1100 50  0001 C CNN
F 3 "~" H 6800 1100 50  0001 C CNN
	1    6800 1100
	0    -1   -1   0   
$EndComp
Text HLabel 1000 1700 1    50   Input ~ 0
VBUS
Wire Wire Line
	2150 2050 2150 2150
Wire Wire Line
	4150 1850 4050 1850
$Comp
L Connector:Conn_01x16_Female J?
U 1 1 5F88C49E
P 9300 4500
F 0 "J?" H 9328 4476 50  0000 L CNN
F 1 "Conn_01x16_Female" H 9328 4385 50  0000 L CNN
F 2 "" H 9300 4500 50  0001 C CNN
F 3 "~" H 9300 4500 50  0001 C CNN
	1    9300 4500
	1    0    0    -1  
$EndComp
$Comp
L Connector:Conn_01x16_Female J?
U 1 1 5F892F6D
P 10400 4500
F 0 "J?" H 10428 4476 50  0000 L CNN
F 1 "Conn_01x16_Female" H 10428 4385 50  0000 L CNN
F 2 "" H 10400 4500 50  0001 C CNN
F 3 "~" H 10400 4500 50  0001 C CNN
	1    10400 4500
	1    0    0    -1  
$EndComp
$Comp
L Device:LED D?
U 1 1 5F8952EC
P 3850 4600
F 0 "D?" V 3889 4482 50  0000 R CNN
F 1 "LED" V 3798 4482 50  0000 R CNN
F 2 "" H 3850 4600 50  0001 C CNN
F 3 "~" H 3850 4600 50  0001 C CNN
	1    3850 4600
	0    -1   -1   0   
$EndComp
$Comp
L Device:LED D?
U 1 1 5F8969D8
P 4250 4600
F 0 "D?" V 4289 4482 50  0000 R CNN
F 1 "LED" V 4198 4482 50  0000 R CNN
F 2 "" H 4250 4600 50  0001 C CNN
F 3 "~" H 4250 4600 50  0001 C CNN
	1    4250 4600
	0    -1   -1   0   
$EndComp
$Comp
L Device:R_Small R?
U 1 1 5F89B65F
P 3850 4250
F 0 "R?" H 3909 4296 50  0000 L CNN
F 1 "R_Small" H 3909 4205 50  0000 L CNN
F 2 "" H 3850 4250 50  0001 C CNN
F 3 "~" H 3850 4250 50  0001 C CNN
	1    3850 4250
	1    0    0    -1  
$EndComp
$Comp
L Device:R_Small R?
U 1 1 5F89BC91
P 4250 4250
F 0 "R?" H 4309 4296 50  0000 L CNN
F 1 "R_Small" H 4309 4205 50  0000 L CNN
F 2 "" H 4250 4250 50  0001 C CNN
F 3 "~" H 4250 4250 50  0001 C CNN
	1    4250 4250
	1    0    0    -1  
$EndComp
Wire Wire Line
	4250 4350 4250 4450
Wire Wire Line
	3850 4350 3850 4450
Text Label 2150 2050 2    50   ~ 0
VBUS
Text Label 2000 4050 1    50   ~ 0
3v3_MCU
Text Label 2350 4050 1    50   ~ 0
3v3_MCU
Text Label 2350 4550 0    50   ~ 0
SDA
Text Label 2000 4550 0    50   ~ 0
SCL
Wire Wire Line
	2150 2400 2150 2450
Connection ~ 2150 2450
Wire Wire Line
	2850 2150 2150 2150
Connection ~ 2150 2150
Wire Wire Line
	2150 2150 2150 2200
Text Label 6550 3250 1    50   ~ 0
3v3_MCU
Text Label 7250 5050 0    50   ~ 0
SCL
Text Label 7250 4950 0    50   ~ 0
SDA
Text Label 7550 1150 1    50   ~ 0
3v3_MCU
Wire Wire Line
	850  2300 1050 2300
Wire Wire Line
	850  2150 1050 2150
Text Label 1050 2300 0    50   ~ 0
SDA
Text Label 1050 2150 0    50   ~ 0
SCL
Text Label 1050 1850 0    50   ~ 0
VBUS
Text Label 1050 2000 0    50   ~ 0
3v3_MCU
Wire Wire Line
	1000 1700 1000 1850
Wire Wire Line
	1000 1850 1050 1850
Wire Wire Line
	850  1700 850  2000
Wire Wire Line
	850  2000 1050 2000
Text Label 4650 2750 2    50   ~ 0
TXT
Text Label 4650 2650 2    50   ~ 0
RXT
Wire Wire Line
	4050 2750 4650 2750
Wire Wire Line
	4050 2650 4650 2650
$EndSCHEMATC
